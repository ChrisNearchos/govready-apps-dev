id: issuepack
title: Issue Pack
instance-name: Issue Pack for {{jira_project_base_uri}}#{{jira_project_key}}
introduction:
  format: markdown
  template: |
    The best way to secure your system is during development.

    {{organization}} has prepared a set of security-related user stories for {{project}}'s product feature backlog.

    Complete the following steps to automatically add these user stories to Jira.
questions:
  - id: jira_username
    title: Jira Username
    prompt: What is your Jira username?
    type: text
    placeholder: username

  - id: jira_password
    title: Jira Password
    prompt: What is your Jira password?
    type: password
    encrypt: emphemeral-user-key

  - id: jira_project_key
    title: Jira Project Key
    prompt: What is your Jira Project Key (prefixes all issues in project)?
    type: text

  - id: jira_project_base_uri
    title: Jira Project Base URI
    prompt: What is your Jira Project's base URI?
    type: url
    placeholder: https://jira.govready.com

  - id: create_issue_pack
    title: Create IssuePack
    prompt: Click Submit to create the IssuePack.
    type: external-function
    function: create_issue_pack
    ask-first:
      - jira_username
      - jira_password
      - jira_project_key
      - jira_project_base_uri

output:
  - format: markdown
    template: |
      {{create_issue_pack.log}}


